(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{62:function(e,t,a){e.exports=a(94)},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),s=a(24),o=a(18),i=a(5),u=a(6),m=a(8),h=a(7),p=a(9),d=a(14),E=a(97),b=a(51),f=a(53),v=a(52),y=a(27),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state.url;t.includes("://")||(t="http://"+t),a.setState({url:t}),a.props.shortenUrl(t).then(a.setForCopy).catch(a.handleErrors)},a.setForCopy=function(e){a.setState({url:e.short,showCopy:!0})},a.handleChange=function(e){e.preventDefault();var t=e.target.value;a.setState({url:t,error:"",showCopy:!1})},a.handleCopy=function(e){var t=e.target;t.innerText="Copied!",setTimeout((function(){return t.innerText="Copy"}),1e3)},a.handleErrors=function(e){a.setState({error:e.message})},a.state={url:"",error:"",showCopy:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,{as:b.a,md:"10"},r.a.createElement(v.a,null,r.a.createElement(E.a.Control,{type:"text",placeholder:"Short your link","aria-describedby":"inputGroupPrepend",name:"url",value:this.state.url,onChange:this.handleChange,isInvalid:!!this.state.error}),r.a.createElement(E.a.Control.Feedback,{type:"invalid"},this.state.error))),r.a.createElement(b.a,{md:2,align:"right"},this.state.showCopy?r.a.createElement(y.CopyToClipboard,{text:this.state.url},r.a.createElement(f.a,{onClick:this.handleCopy,className:"btn-block"},"Copy")):r.a.createElement(f.a,{type:"submit",className:"btn-block"},"Shorten"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.lastShort!==t.lastShort?{url:t.url,lastShort:e.lastShort}:null}}]),t}(r.a.Component),g=a(22),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleCopy=function(e){var t=e.target;t.innerText="Copied!",setTimeout((function(){return t.innerText="Copy"}),1e3)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{variant:"dark"},r.a.createElement("tbody",null,this.props.links.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"align-middle"},r.a.createElement("a",{href:t.url,target:"_blank",className:"text-white",rel:"noopener noreferrer"},t.url)),r.a.createElement("td",{align:"right",className:"align-middle"},r.a.createElement("a",{href:t.short,target:"_blank",className:"text-white",rel:"noopener noreferrer"},t.short)),r.a.createElement("td",{align:"right"},r.a.createElement(y.CopyToClipboard,{text:t.short},r.a.createElement(f.a,{onClick:e.handleCopy,className:"btn-block"},"Copy"))))}))))}}]),t}(r.a.Component),j=a(23),O=a.n(j),w=a(54),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).shortenUrl=function(e){return O.a.post(window.API_URL+"shorten",{url:e},{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).then(a.handleDataFormat).then(a.addToLastShorts)},a.addToLastShorts=function(e){return a.setState({lastShorts:a.state.lastShorts.slice(-2).concat([e])}),e},a.handleDataFormat=function(e){if(e.hasOwnProperty("errors"))throw new Error(e.errors[0]);return e},a.state={lastShorts:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(w.a,{className:"bg-white pl-0"},r.a.createElement("h1",null,"Create Click-Worthy Links"),r.a.createElement("p",null,"Build and protect your brand using powerful, recognizable short links."))),r.a.createElement(d.a,{className:"bg-dark pt-3"},r.a.createElement(k,{shortenUrl:this.shortenUrl})),r.a.createElement(d.a,{className:"bg-dark"},r.a.createElement(C,{links:this.state.lastShorts})))}}]),t}(r.a.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:this.props.originalUrl,target:"_blank",rel:"noopener noreferrer"},this.props.originalUrl)),r.a.createElement("td",null,r.a.createElement("a",{href:this.props.shortUrl,target:"_blank",rel:"noopener noreferrer"},this.props.shortUrl)),r.a.createElement("td",null,this.props.redirects),r.a.createElement("td",null,this.props.unique_redirects))}}]),t}(r.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,className:"mt-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Destination URL"),r.a.createElement("th",null,"Short URL"),r.a.createElement("th",null,"Total uses"),r.a.createElement("th",null,"Unique uses"))),r.a.createElement("tbody",null,this.props.links.map((function(e,t){return r.a.createElement(_,{key:t,originalUrl:e.url,shortUrl:e.short,redirects:e.redirects_count,unique_redirects:e.unique_redirects_count})}))))}}]),t}(r.a.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.redirects),r.a.createElement("td",null,this.props.unique_redirects),r.a.createElement("td",null,this.props.percentage,"%"))}}]),t}(r.a.Component),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).countries=function(){var e=a.props.uniqueRedirects;return a.props.countries.map((function(t){var a=100*parseInt(t.unique_redirects_count)/parseInt(e);return t.percentage=Math.round(a),t}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,className:"mt-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Total uses"),r.a.createElement("th",null,"Unique uses"),r.a.createElement("th",null,"Percent of all users"))),r.a.createElement("tbody",null,this.countries().map((function(e,t){return r.a.createElement(U,{key:t,name:e.name,redirects:e.redirects_count,unique_redirects:e.unique_redirects_count,percentage:e.percentage})})))))}}]),t}(r.a.Component),x=a(31),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getCountries=function(){O.a.get(window.API_URL+"countries").then((function(e){return a.updateCountriesState(e.data)}))},a.getPopular=function(){O.a.get(window.API_URL+"popular").then((function(e){return a.setState({links:e.data})}))},a.state={countries:[],links:[],total_redirects:0,unique_redirects:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"updateCountriesState",value:function(e){this.setState({countries:e.items,total_redirects:e.total_redirects,unique_redirects:e.unique_redirects})}},{key:"componentDidMount",value:function(){this.getPopular(),this.getCountries()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,{className:"p-0 mt-3"},r.a.createElement(x.a,null,r.a.createElement(x.a.Item,{href:"/"},"Home"),r.a.createElement(x.a.Item,{active:!0},"Statistics"))),r.a.createElement(d.a,{className:"p-0"},r.a.createElement("h1",null,"Statistics"),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Most popular links"),r.a.createElement(N,{links:this.state.links})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"By Countries"),r.a.createElement(q,{countries:this.state.countries,totalRedirects:this.state.total_redirects,uniqueRedirects:this.state.unique_redirects}))))}}]),t}(r.a.Component),I=a(36),P=a(61),R=function(){return r.a.createElement(I.a,{bg:"dark",variant:"dark"},r.a.createElement(I.a.Brand,{href:"/"},"Navbar"),r.a.createElement(P.a,{className:"mr-auto"},r.a.createElement(s.b,{to:"/",exact:!0,className:"nav-link",activeClassName:"active"},"Home"),r.a.createElement(s.b,{to:"/statistics",className:"nav-link",activeClassName:"active"},"Statistics")))},L=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"text-center py-3"},"\xa9 2020 Copyright. Ihar Biaspalau"))}}]),t}(r.a.Component);window.API_URL="/api/";var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(d.a,{className:"bg-dark"},r.a.createElement(R,null)),r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/statistics"},r.a.createElement(T,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(S,null)))),r.a.createElement(d.a,{className:"bg-dark text-white"},r.a.createElement(L,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93);c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.79c57a20.chunk.js.map